# Новые возможности: Размеры комнаты и ромбов

## Что добавлено

### 1. Настройка размера комнаты
- **Room Width** - ширина комнаты в метрах (по умолчанию 5 м)
- **Room Height** - высота комнаты в метрах (по умолчанию 5 м)

### 2. Настройка размера плитки
- **Tile side** - длина стороны ромба в метрах (по умолчанию 0.1 м = 10 см)

### 3. Информационная панель
Новая панель в левом нижнем углу показывает:

#### Размеры комнаты:
- Ширина (м)
- Высота (м)
- Площадь (м²)

#### Количество плиток:
- **Тонкие ромбы (36°)** - красные ромбы с углом 36°
- **Толстые ромбы (72°)** - синие ромбы с углом 72°
- **Всего** - общее количество ромбов

#### Размеры ромбов:
- **Длина стороны** - в сантиметрах (одинаковая для обоих типов)
- **Площадь тонкого ромба** - в см²
- **Площадь толстого ромба** - в см²

#### Покрытие:
- **Общая площадь плиток** - суммарная площадь всех ромбов в м²
- **Процент покрытия** - какой процент комнаты покрыт плитками

## Математика плиток Пенроуза

### Два типа ромбов:

1. **Тонкий ромб (Thin rhombus)**
   - Острый угол: 36°
   - Тупой угол: 144°
   - Цвет: красный
   - Площадь: a² × sin(36°) ≈ 0.588 × a²

2. **Толстый ромб (Thick rhombus)**
   - Острый угол: 72°
   - Тупой угол: 108°
   - Цвет: синий
   - Площадь: a² × sin(72°) ≈ 0.951 × a²

Где `a` - длина стороны ромба (параметр "Tile side")

### Золотое сечение
Плитки Пенроуза связаны с золотым сечением φ = (1+√5)/2 ≈ 1.618

Соотношение количества тонких к толстым ромбам стремится к φ при большом количестве подразделений.

## Примеры использования

### Планирование укладки плитки:
1. Установите размеры комнаты (например, 4×5 м)
2. Установите размер плитки (например, 0.15 м = 15 см)
3. Настройте количество подразделений для детализации
4. Посмотрите сколько плиток понадобится и какая площадь будет покрыта

### Создание паттерна:
1. Экспериментируйте с `Subdivisions` для разной детализации
2. Измените `Rays` для разных начальных конфигураций
3. Настройте `Radius` для масштабирования узора

## Технические детали

### Структура данных:

```dart
class DrawOptions {
  final double roomWidth;   // Ширина комнаты (м)
  final double roomHeight;  // Высота комнаты (м)
  final double tileScale;   // Размер стороны ромба (м)
  // ... другие параметры
}

class TileInfo {
  final int thinCount;      // Количество тонких ромбов
  final int thickCount;     // Количество толстых ромбов
  final double thinArea;    // Площадь одного тонкого ромба (м²)
  final double thickArea;   // Площадь одного толстого ромба (м²)
  final double totalArea;   // Общая площадь (м²)
  // ... другие параметры
}
```

### Расчет площади:
```dart
// Площадь ромба = a² × sin(угол)
thinArea = tileScale² × sin(36°)
thickArea = tileScale² × sin(72°)
totalArea = (thinCount × thinArea) + (thickCount × thickArea)
```

## Новые файлы:

- `lib/tile_info_panel.dart` - виджет информационной панели
- Обновлен `lib/types.dart` - добавлены новые поля и TileInfo
- Обновлен `lib/penrose_tiles.dart` - добавлена функция расчета
- Обновлен `lib/options_frame.dart` - добавлены новые поля ввода
- Обновлен `lib/main.dart` - интеграция информационной панели

## Скриншот интерфейса:

```
┌─────────────────────────────────────┐
│  Parameters (правый верхний угол)   │
│  - Subdivisions                     │
│  - Rays                             │
│  - Radius                           │
│  ─────────                          │
│  Room Size:                         │
│  - Width (m)                        │
│  - Height (m)                       │
│  - Tile side (m)                    │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  Tile Information                   │
│  (левый нижний угол)                │
│                                     │
│  Room Dimensions:                   │
│  - Width: 5.00 m                    │
│  - Height: 5.00 m                   │
│  - Area: 25.00 m²                   │
│                                     │
│  Tile Counts:                       │
│  🔴 Thin rhombi (36°): 150          │
│  🔵 Thick rhombi (72°): 93          │
│  Total: 243                         │
│                                     │
│  Rhombus Dimensions:                │
│  - Side length: 10.0 cm             │
│  - Thin area: 5.88 cm²              │
│  - Thick area: 9.51 cm²             │
│                                     │
│  Coverage:                          │
│  - Total tile area: 0.142 m²        │
│  - Coverage: 0.6%                   │
└─────────────────────────────────────┘
```

## Полезные пресеты:

### Мелкая мозаика:
- Tile side: 0.05 м (5 см)
- Subdivisions: 7-8
- Результат: много маленьких плиток

### Крупная плитка:
- Tile side: 0.2 м (20 см)
- Subdivisions: 4-5
- Результат: крупные декоративные элементы

### Комната-галерея:
- Room: 10×8 м
- Tile side: 0.15 м
- Subdivisions: 6
- Результат: элегантный узор для большого пространства
